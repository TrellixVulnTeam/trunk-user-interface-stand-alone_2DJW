{"ast":null,"code":"import _regeneratorRuntime from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/irfan/projects/local/trunk-user-interface-stand-alone/src/public/customer/edit-customer.js\";\nimport React, { Component } from 'react';\nimport { CButton, CCard, CCardBody, CCol, CForm, CFormGroup, CInput, CLabel, CRow, CSelect, CInputFile } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loadCustomerbyID, updateCustomer } from '../../modules/customer/actions';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport configApi from '../../config/api';\nimport validator from 'validator';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nwindow.jquery = window.$ = $;\n\nvar EditCustomer = /*#__PURE__*/function (_Component) {\n  _inherits(EditCustomer, _Component);\n\n  var _super = _createSuper(EditCustomer);\n\n  function EditCustomer() {\n    var _this;\n\n    _classCallCheck(this, EditCustomer);\n\n    _this = _super.call(this);\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.handleReset = function (resetForm) {\n      if (window.confirm('Reset?')) {\n        resetForm();\n      }\n    };\n\n    _this.onSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var customerData, pattern, formData, _i, _Object$keys, key;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                customerData = _this.state;\n                pattern = new RegExp(/^[0-9\\b]+$/); // Company Name\n\n                if (!(customerData.companyName === \"\")) {\n                  _context.next = 6;\n                  break;\n                }\n\n                NotificationManager.warning(\"Company name is required\");\n                return _context.abrupt(\"return\", false);\n\n              case 6:\n                if (!(customerData.contactPersonMobile === \"\")) {\n                  _context.next = 11;\n                  break;\n                }\n\n                NotificationManager.warning(\"Mobile number is required!\");\n                return _context.abrupt(\"return\", false);\n\n              case 11:\n                if (pattern.test(customerData.contactPersonMobile)) {\n                  _context.next = 16;\n                  break;\n                }\n\n                NotificationManager.warning(\"Please enter only number.\");\n                return _context.abrupt(\"return\", false);\n\n              case 16:\n                if (!(customerData.contactPersonMobile.length !== 9)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                NotificationManager.warning(\"Please enter valid phone number.\");\n                return _context.abrupt(\"return\", false);\n\n              case 19:\n                if (validator.isEmail(customerData.contactPersonEmail)) {\n                  _context.next = 22;\n                  break;\n                }\n\n                NotificationManager.warning(\"Enter valid email\");\n                return _context.abrupt(\"return\", false);\n\n              case 22:\n                formData = new FormData();\n                formData.append(\"companyName\", customerData.companyName);\n                formData.append(\"contactPersonFirstname\", customerData.contactPersonFirstname);\n                formData.append(\"contactPersonLastname\", customerData.contactPersonLastname);\n                formData.append(\"contactPersonMobile\", customerData.contactPersonMobile);\n                formData.append(\"contactPersonEmail\", customerData.contactPersonEmail);\n                formData.append(\"companyPhone\", customerData.companyPhone);\n                formData.append(\"emirates\", customerData.emirates);\n                formData.append(\"buildingNumber\", customerData.buildingNumber);\n                formData.append(\"street\", customerData.street);\n                formData.append(\"address\", customerData.address);\n                formData.append(\"profileImage\", customerData.profileImagefile);\n                formData.append(\"customerID\", customerData.customerID);\n\n                for (_i = 0, _Object$keys = Object.keys(customerData.tradeLicenseFile); _i < _Object$keys.length; _i++) {\n                  key = _Object$keys[_i];\n                  formData.append('tradeLicenseFiles', customerData.tradeLicenseFile[key]);\n                }\n\n                _this.props.updateCustomer(formData);\n\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.saveProfileImageFile = function (e) {\n      _this.setState({\n        profileImagefile: e.target.files[0],\n        profileImagefileName: e.target.files[0].name\n      });\n    };\n\n    _this.saveTradeLicenseFiles = function (e) {\n      _this.setState({\n        tradeLicenseFile: _this.state.tradeLicenseFile.concat(e.target.files)\n      });\n    };\n\n    _this.closeProfilePreviewContainer = function () {\n      _this.setState({\n        profileImagefile: null\n      });\n    };\n\n    _this.removeTradeLicense = function (key) {\n      var tradeLicenseFile = _this.state.tradeLicenseFile;\n      var fileListArr = Array.from(tradeLicenseFile);\n      fileListArr.splice(key, 1);\n\n      _this.setState({\n        tradeLicenseFile: fileListArr\n      });\n    };\n\n    _this.state = {\n      companyName: '',\n      contactPersonFirstname: '',\n      contactPersonLastname: '',\n      contactPersonMobile: '',\n      contactPersonMobilePrefix: '+971',\n      contactPersonEmail: '',\n      companyPhone: '',\n      companyPhonePrefix: '+971',\n      emirates: '0',\n      buildingNumber: '',\n      street: '',\n      address: '',\n      profileImagefile: null,\n      tradeLicenseFile: [],\n      formOpen: true,\n      customerID: ''\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.removeTradeLicense = _this.removeTradeLicense.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(EditCustomer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // profile image button\n      $(\".profileUploader\").on(\"click\", function () {\n        $(\".profile-upload-button\").trigger('click');\n      }); // trade licesnse button\n\n      $(\".tradeLicenseUploader\").click(function () {\n        $(\"#trade-license-files\").trigger('click');\n      });\n      var ids = this.props.match.params.id;\n      this.setState({\n        customerID: ids\n      });\n      var id = ids;\n      this.props.loadCustomerbyID({\n        id: id\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          customer = _this$props.customer,\n          updateResponse = _this$props.updateResponse;\n      var prevcustomer = prevProps.customer,\n          prevupdateResponse = prevProps.updateResponse;\n\n      if (customer != prevcustomer && customer === null) {\n        NotificationManager.error(\"Customer doesn't exist\");\n        this.setState({\n          formOpen: false\n        });\n      }\n\n      if (customer && customer != prevcustomer) {\n        this.setState({\n          companyName: customer.CompanyName,\n          contactPersonFirstname: customer.ContactpersonFirstname,\n          contactPersonLastname: customer.ContactpersonLastname,\n          contactPersonMobile: customer.ContactpersonMobile,\n          contactPersonMobilePrefix: '+971',\n          contactPersonEmail: customer.ContactpersonEmail,\n          companyPhone: customer.CompanyPhone,\n          companyPhonePrefix: '+971',\n          emirates: customer.Emirates,\n          buildingNumber: customer.BuildingNO,\n          street: customer.Street,\n          address: customer.Address,\n          profileImagefile: customer.ProfileImage,\n          tradeLicenseFile: customer.customerDocuments\n        });\n      }\n\n      if (updateResponse && updateResponse != prevupdateResponse) {\n        NotificationManager.success(\"Customer updated successfully!\");\n        this.props.history.push('../list-customer');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          profileImagefile = _this$state.profileImagefile,\n          tradeLicenseFile = _this$state.tradeLicenseFile,\n          formOpen = _this$state.formOpen;\n      console.log();\n      return /*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(CCol, {\n          xs: \"12\",\n          md: \"8\",\n          className: \"offset-2\",\n          children: /*#__PURE__*/_jsxDEV(CCard, {\n            children: /*#__PURE__*/_jsxDEV(CCardBody, {\n              children: formOpen ? /*#__PURE__*/_jsxDEV(CForm, {\n                className: \"form-horizontal\",\n                onSubmit: this.onSubmit,\n                children: [/*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-email\",\n                      children: \"Company Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"text\",\n                      id: \"companyName\",\n                      name: \"companyName\",\n                      value: this.state.companyName,\n                      placeholder: \"Name of your company\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Contact person First Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"text\",\n                      id: \"contactPersonFirstname\",\n                      name: \"contactPersonFirstname\",\n                      value: this.state.contactPersonFirstname,\n                      placeholder: \"First name of contact person\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Contact person Last Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"text\",\n                      id: \"contactPersonLastname\",\n                      name: \"contactPersonLastname\",\n                      value: this.state.contactPersonLastname,\n                      placeholder: \"Last name of contact person\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Contact person Mobile\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"2\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"tel\",\n                      id: \"contactPersonMobilePrefix\",\n                      name: \"contactPersonMobilePrefix\",\n                      value: this.state.contactPersonMobilePrefix,\n                      readOnly: \"readOnly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"tel\",\n                      id: \"contactPersonMobile\",\n                      name: \"contactPersonMobile\",\n                      value: this.state.contactPersonMobile,\n                      placeholder: \"55 555 5555\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Contact person Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"text\",\n                      id: \"contactPersonEmail\",\n                      name: \"contactPersonEmail\",\n                      value: this.state.contactPersonEmail,\n                      placeholder: \"Email ID of contact person\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Company Phone\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"2\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"tel\",\n                      id: \"companyPhonePrefix\",\n                      name: \"companyPhonePrefix\",\n                      value: this.state.companyPhonePrefix,\n                      readOnly: \"readOnly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"tel\",\n                      id: \"companyPhone\",\n                      name: \"companyPhone\",\n                      value: this.state.companyPhone,\n                      placeholder: \"66 666 6666\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Emirates\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CSelect, {\n                      name: \"emirates\",\n                      id: \"emirates\",\n                      value: this.state.emirates,\n                      placeholder: \"Emirates\",\n                      onChange: this.onChange,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"0\",\n                        children: \"Please select\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"1\",\n                        children: \"Abu Dhabi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"2\",\n                        children: \"Dubai\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"3\",\n                        children: \"Sharjah\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"4\",\n                        children: \"Ajman\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"5\",\n                        children: \"Umm Al-Quwain\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"6\",\n                        children: \"Fujairah\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Building Number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"text\",\n                      id: \"buildingNumber\",\n                      name: \"buildingNumber\",\n                      value: this.state.buildingNumber,\n                      placeholder: \"Building Number\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Street\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"text\",\n                      id: \"street\",\n                      name: \"street\",\n                      value: this.state.street,\n                      placeholder: \"Street Name\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Adress\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(CInput, {\n                      type: \"text\",\n                      id: \"address\",\n                      name: \"address\",\n                      value: this.state.address,\n                      placeholder: \"Address\",\n                      onChange: this.onChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Upload trade license\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"profile-container\",\n                      children: [/*#__PURE__*/_jsxDEV(CInputFile, {\n                        id: \"trade-license-files\",\n                        name: \"trade-license-files\",\n                        onChange: this.saveTradeLicenseFiles,\n                        multiple: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 382,\n                        columnNumber: 27\n                      }, this), Object.keys(tradeLicenseFile).map(function (key, index) {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"profile-image-preview-container trade-link\",\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            src: configApi.IMAGE_URL + tradeLicenseFile[key].DocumentPath,\n                            alt: tradeLicenseFile[key] ? tradeLicenseFile[key].name : null\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 386,\n                            columnNumber: 33\n                          }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n                            onClick: function onClick() {\n                              return _this2.removeTradeLicense(key);\n                            },\n                            className: \"profile-close-container\",\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              class: \"fa fa-trash fa-lg\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 390,\n                              columnNumber: 35\n                            }, _this2)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 389,\n                            columnNumber: 33\n                          }, _this2)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 385,\n                          columnNumber: 31\n                        }, _this2);\n                      }), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"tradeLicenseUploader\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"icon-container\",\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            class: \"fa fa-image fa-2x\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 397,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"icon-text\",\n                            children: \"Upload trade license\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 398,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 396,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    md: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(CLabel, {\n                      htmlFor: \"hf-password\",\n                      children: \"Upload profile image/  company logo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"8\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"profile-container\",\n                      children: [/*#__PURE__*/_jsxDEV(CInputFile, {\n                        className: \"profile-upload-button\",\n                        id: \"file-input\",\n                        name: \"file-input\",\n                        onChange: this.saveProfileImageFile\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 29\n                      }, this), profileImagefile !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"profile-image-preview-container\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: configApi.IMAGE_URL + profileImagefile,\n                          alt: profileImagefile ? profileImagefile.name : null\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 414,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          onClick: this.closeProfilePreviewContainer,\n                          className: \"profile-close-container\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            class: \"fa fa-trash fa-lg\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 418,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 417,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 413,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"profileUploader\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"icon-container\",\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            class: \"fa fa-image fa-2x\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 426,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"icon-text\",\n                            children: \"Upload profile image\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 427,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 425,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CFormGroup, {\n                  row: true,\n                  children: /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: \"12\",\n                    md: \"12\",\n                    className: \"text-center\",\n                    children: /*#__PURE__*/_jsxDEV(CButton, {\n                      className: \"customer-create-button\",\n                      type: \"submit\",\n                      color: \"primary\",\n                      children: [/*#__PURE__*/_jsxDEV(CIcon, {\n                        name: \"cil-save\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 101\n                      }, this), \" Update Customer\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: \"Sorry! customer does not exist.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return EditCustomer;\n}(Component);\n\nEditCustomer.propTypes = {\n  customerErrors: PropTypes.object.isRequired,\n  customer: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    customerErrors: state.customerErrors,\n    customer: state.customer.editCustomer,\n    updateResponse: state.customer.updateResponse\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loadCustomerbyID: loadCustomerbyID,\n  updateCustomer: updateCustomer\n})(EditCustomer);","map":{"version":3,"sources":["/Users/irfan/projects/local/trunk-user-interface-stand-alone/src/public/customer/edit-customer.js"],"names":["React","Component","CButton","CCard","CCardBody","CCol","CForm","CFormGroup","CInput","CLabel","CRow","CSelect","CInputFile","CIcon","PropTypes","connect","loadCustomerbyID","updateCustomer","NotificationContainer","NotificationManager","configApi","validator","$","window","jquery","EditCustomer","onChange","e","setState","target","id","value","handleReset","resetForm","confirm","onSubmit","preventDefault","customerData","state","pattern","RegExp","companyName","warning","contactPersonMobile","test","length","isEmail","contactPersonEmail","formData","FormData","append","contactPersonFirstname","contactPersonLastname","companyPhone","emirates","buildingNumber","street","address","profileImagefile","customerID","Object","keys","tradeLicenseFile","key","props","saveProfileImageFile","files","profileImagefileName","name","saveTradeLicenseFiles","concat","closeProfilePreviewContainer","removeTradeLicense","fileListArr","Array","from","splice","contactPersonMobilePrefix","companyPhonePrefix","formOpen","bind","on","trigger","click","ids","match","params","prevProps","customer","updateResponse","prevcustomer","prevupdateResponse","error","CompanyName","ContactpersonFirstname","ContactpersonLastname","ContactpersonMobile","ContactpersonEmail","CompanyPhone","Emirates","BuildingNO","Street","Address","ProfileImage","customerDocuments","success","history","push","console","log","map","index","IMAGE_URL","DocumentPath","propTypes","customerErrors","object","isRequired","mapStateToProps","editCustomer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CForm,\n  CFormGroup,\n  CInput,\n  CLabel,\n  CRow,\n  CSelect,\n  CInputFile,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loadCustomerbyID, updateCustomer } from '../../modules/customer/actions';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport configApi from '../../config/api';\n\nimport validator from 'validator';\n\nimport $ from 'jquery';\nwindow.jquery = window.$ = $\n\nclass EditCustomer extends Component {\n  constructor() {\n    super();\n    this.state = {\n      companyName: '',\n      contactPersonFirstname: '',\n      contactPersonLastname: '',\n      contactPersonMobile: '',\n      contactPersonMobilePrefix: '+971',\n      contactPersonEmail: '',\n      companyPhone: '',\n      companyPhonePrefix: '+971',\n      emirates: '0',\n      buildingNumber: '',\n      street: '',\n      address: '',\n      profileImagefile: null,\n      tradeLicenseFile: [],\n      formOpen: true,\n      customerID: '',\n    }\n    this.onSubmit = this.onSubmit.bind(this);\n    this.removeTradeLicense = this.removeTradeLicense.bind(this);\n  }\n\n  componentDidMount() {\n\n    // profile image button\n    $(\".profileUploader\").on(\"click\", function() {\n      $(\".profile-upload-button\").trigger('click');\n    });\n\n    // trade licesnse button\n    $(\".tradeLicenseUploader\").click(function(){\n      $(\"#trade-license-files\").trigger('click');\n    });\n\n    const ids = this.props.match.params.id;\n    this.setState({\n      customerID: ids,\n    })\n    const id = ids;\n    this.props.loadCustomerbyID({id});\n  }\n\n  componentDidUpdate(prevProps) {\n      const { customer, updateResponse } = this.props;\n      const { customer: prevcustomer, updateResponse: prevupdateResponse } = prevProps;\n\n      if(customer != prevcustomer && customer === null) {\n        NotificationManager.error(\"Customer doesn't exist\");\n        this.setState({formOpen: false})\n      }\n      if(customer && customer != prevcustomer) {\n        this.setState({\n            companyName: customer.CompanyName,\n            contactPersonFirstname: customer.ContactpersonFirstname,\n            contactPersonLastname: customer.ContactpersonLastname,\n            contactPersonMobile: customer.ContactpersonMobile,\n            contactPersonMobilePrefix: '+971',\n            contactPersonEmail: customer.ContactpersonEmail,\n            companyPhone: customer.CompanyPhone,\n            companyPhonePrefix: '+971',\n            emirates: customer.Emirates,\n            buildingNumber: customer.BuildingNO,\n            street: customer.Street,\n            address: customer.Address,\n            profileImagefile: customer.ProfileImage,\n            tradeLicenseFile: customer.customerDocuments\n        })\n      }\n\n      if(updateResponse && updateResponse != prevupdateResponse) {\n          NotificationManager.success(\"Customer updated successfully!\");\n          this.props.history.push( '../list-customer' );\n      }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n  \n  // reset\n  handleReset = (resetForm) => {\n    if (window.confirm('Reset?')) {\n      resetForm();\n    }\n  };\n\n  onSubmit = async (e)  => {\n    e.preventDefault();\n    const customerData = this.state;\n    var pattern = new RegExp(/^[0-9\\b]+$/);\n\n    // Company Name\n    if(customerData.companyName === \"\") {\n      NotificationManager.warning(\"Company name is required\");\n      return false;\n    }\n\n    // Mobile Number\n    if (customerData.contactPersonMobile === \"\") {\n      NotificationManager.warning(\"Mobile number is required!\");\n      return false;\n    }else if(!pattern.test(customerData.contactPersonMobile)) {\n      NotificationManager.warning(\"Please enter only number.\");\n      return false;\n    }else if(customerData.contactPersonMobile.length !== 9) {\n      NotificationManager.warning(\"Please enter valid phone number.\");\n      return false;\n    }\n\n    // Contact Email\n    if(!validator.isEmail(customerData.contactPersonEmail)) {\n      NotificationManager.warning(\"Enter valid email\");\n      return false;\n    }\n\n    const formData = new FormData();\n    formData.append(\"companyName\", customerData.companyName);\n    formData.append(\"contactPersonFirstname\", customerData.contactPersonFirstname);\n    formData.append(\"contactPersonLastname\", customerData.contactPersonLastname);\n    formData.append(\"contactPersonMobile\", customerData.contactPersonMobile);\n    formData.append(\"contactPersonEmail\", customerData.contactPersonEmail);\n    formData.append(\"companyPhone\", customerData.companyPhone);\n    formData.append(\"emirates\", customerData.emirates);\n    formData.append(\"buildingNumber\", customerData.buildingNumber);\n    formData.append(\"street\", customerData.street);\n    formData.append(\"address\", customerData.address);\n    formData.append(\"profileImage\", customerData.profileImagefile);\n    formData.append(\"customerID\", customerData.customerID);\n    for (const key of Object.keys(customerData.tradeLicenseFile)) {\n        formData.append('tradeLicenseFiles', customerData.tradeLicenseFile[key])\n    }\n    this.props.updateCustomer( formData );\n  }\n\n  // Save Profile Images\n  saveProfileImageFile = (e) => {\n    this.setState({\n      profileImagefile: e.target.files[0],\n      profileImagefileName: e.target.files[0].name,\n    });\n  }\n\n  // Save Trade License\n  saveTradeLicenseFiles = (e) => {\n    this.setState({ \n      tradeLicenseFile: this.state.tradeLicenseFile.concat(e.target.files)\n    })\n  }\n\n  closeProfilePreviewContainer = () => {\n    this.setState({\n      profileImagefile: null\n    })\n  }\n\n  removeTradeLicense = (key) => {\n    const { tradeLicenseFile } = this.state;\n    const fileListArr = Array.from(tradeLicenseFile);\n    fileListArr.splice(key, 1);\n    this.setState({\n      tradeLicenseFile: fileListArr\n    })\n  }\n\n  render() {\n    const { profileImagefile, tradeLicenseFile, formOpen } = this.state;\n    console.log();\n    return (\n      <CRow>\n        <NotificationContainer/>\n        <CCol xs=\"12\" md=\"8\" className=\"offset-2\">\n          <CCard>\n            <CCardBody>\n              {\n                formOpen ?\n                  <CForm className=\"form-horizontal\" onSubmit={this.onSubmit}>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-email\">Company Name</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CInput \n                            type=\"text\" \n                            id=\"companyName\" \n                            name=\"companyName\"\n                            value={this.state.companyName}\n                            placeholder=\"Name of your company\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Contact person First Name</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CInput \n                            type=\"text\" \n                            id=\"contactPersonFirstname\" \n                            name=\"contactPersonFirstname\"\n                            value={this.state.contactPersonFirstname}\n                            placeholder=\"First name of contact person\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Contact person Last Name</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CInput \n                            type=\"text\" \n                            id=\"contactPersonLastname\" \n                            name=\"contactPersonLastname\"\n                            value={this.state.contactPersonLastname}\n                            placeholder=\"Last name of contact person\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Contact person Mobile</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"2\">\n                          <CInput \n                            type=\"tel\" \n                            id=\"contactPersonMobilePrefix\" \n                            name=\"contactPersonMobilePrefix\"\n                            value={this.state.contactPersonMobilePrefix}\n                            readOnly=\"readOnly\"\n                          />\n                      </CCol>\n                      <CCol xs=\"12\" md=\"6\">\n                          <CInput \n                            type=\"tel\" \n                            id=\"contactPersonMobile\" \n                            name=\"contactPersonMobile\"\n                            value={this.state.contactPersonMobile}\n                            placeholder=\"55 555 5555\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Contact person Email</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CInput \n                            type=\"text\" \n                            id=\"contactPersonEmail\" \n                            name=\"contactPersonEmail\"\n                            value={this.state.contactPersonEmail}\n                            placeholder=\"Email ID of contact person\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Company Phone</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"2\">\n                          <CInput \n                            type=\"tel\" \n                            id=\"companyPhonePrefix\" \n                            name=\"companyPhonePrefix\"\n                            value={this.state.companyPhonePrefix}\n                            readOnly=\"readOnly\"\n                          />\n                      </CCol>\n                      <CCol xs=\"12\" md=\"6\">\n                          <CInput \n                            type=\"tel\" \n                            id=\"companyPhone\" \n                            name=\"companyPhone\"\n                            value={this.state.companyPhone}\n                            placeholder=\"66 666 6666\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Emirates</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CSelect name=\"emirates\" id=\"emirates\" value={this.state.emirates} placeholder=\"Emirates\" onChange={this.onChange} >\n                            <option value=\"0\">Please select</option>\n                            <option value=\"1\">Abu Dhabi</option>\n                            <option value=\"2\">Dubai</option>\n                            <option value=\"3\">Sharjah</option>\n                            <option value=\"4\">Ajman</option>\n                            <option value=\"5\">Umm Al-Quwain</option>\n                            <option value=\"6\">Fujairah</option>\n                          </CSelect>\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Building Number</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CInput \n                            type=\"text\" \n                            id=\"buildingNumber\" \n                            name=\"buildingNumber\"\n                            value={this.state.buildingNumber}\n                            placeholder=\"Building Number\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Street</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CInput \n                            type=\"text\" \n                            id=\"street\" \n                            name=\"street\"\n                            value={this.state.street}\n                            placeholder=\"Street Name\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Adress</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <CInput \n                            type=\"text\" \n                            id=\"address\" \n                            name=\"address\"\n                            value={this.state.address}\n                            placeholder=\"Address\"\n                            onChange={this.onChange}\n                          />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Upload trade license</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                        <div className='profile-container'>\n                          <CInputFile id=\"trade-license-files\" name=\"trade-license-files\" onChange={this.saveTradeLicenseFiles} multiple/>\n                          {\n                            Object.keys(tradeLicenseFile).map((key, index) => \n                              <div className='profile-image-preview-container trade-link'>\n                                <img\n                                  src={configApi.IMAGE_URL + tradeLicenseFile[key].DocumentPath}\n                                  alt={tradeLicenseFile[key]? tradeLicenseFile[key].name : null}/>\n                                <div onClick={() => this.removeTradeLicense(key)} className=\"profile-close-container\">\n                                  <i class=\"fa fa-trash fa-lg\"></i>\n                                </div>\n                              </div>\n                            )\n                          }\n                          <div className='tradeLicenseUploader'>\n                            <div className='icon-container'>\n                              <i class=\"fa fa-image fa-2x\"></i>\n                              <p className='icon-text'>Upload trade license</p>\n                            </div>\n                          </div>\n                        </div>\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                      <CCol md=\"4\">\n                          <CLabel htmlFor=\"hf-password\">Upload profile image/  company logo</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"8\">\n                          <div className='profile-container'>\n                            <CInputFile className=\"profile-upload-button\" id=\"file-input\" name=\"file-input\" onChange={this.saveProfileImageFile}/>\n                            {\n                              profileImagefile !== null ?\n                              <div className='profile-image-preview-container'> \n                                <img\n                                  src={configApi.IMAGE_URL+profileImagefile} \n                                  alt={profileImagefile? profileImagefile.name : null}/>\n                                <div onClick={this.closeProfilePreviewContainer} className=\"profile-close-container\">\n                                  <i class=\"fa fa-trash fa-lg\"></i>\n                                </div>\n                              </div>\n                              :\n                              <></>\n                            }\n                            <div className='profileUploader'>\n                              <div className='icon-container'>\n                                <i class=\"fa fa-image fa-2x\"></i>\n                                <p className='icon-text'>Upload profile image</p>\n                              </div>\n                            </div>\n                          </div>\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row>\n                        <CCol xs=\"12\" md=\"12\" className=\"text-center\">\n                          <CButton className=\"customer-create-button\" type=\"submit\" color=\"primary\"><CIcon name=\"cil-save\" /> Update Customer</CButton>\n                        </CCol>\n                    </CFormGroup>\n                  </CForm>\n                  :\n                  <div className=\"text-center\">Sorry! customer does not exist.</div>\n              }\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    )\n  }\n}\n\nEditCustomer.propTypes = {\n  customerErrors: PropTypes.object.isRequired,\n  customer: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  customerErrors: state.customerErrors,\n  customer: state.customer.editCustomer,\n  updateResponse: state.customer.updateResponse\n});\nexport default connect(\n  mapStateToProps,\n  { loadCustomerbyID, updateCustomer }\n)(EditCustomer);\n"]},"metadata":{},"sourceType":"module"}